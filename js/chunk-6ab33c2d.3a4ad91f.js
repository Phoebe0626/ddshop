(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ab33c2d"],{3187:function(t,e,r){"use strict";r("9649")},"42a6":function(t,e,r){},"5f05":function(t,e,r){"use strict";r("42a6")},9649:function(t,e,r){},a084:function(t,e,r){},a28e:function(t,e,r){"use strict";r.r(e);var n,i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"category-container"},[r("Header"),t.rightContent.length?r("div",[r("div",{ref:"leftWrapper",staticClass:"cate-wrapper"},[r("ul",t._l(t.category,(function(e,n){return r("li",{key:e.id,ref:"MenuList",refInFor:!0,staticClass:"cate-item",class:{selected:t.currentIndex===n},on:{click:function(e){return t.hSelectCate(n)}}},[r("span",[t._v(t._s(e.name))])])})),0)]),r("content-view",{attrs:{rightContent:t.rightContent}})],1):r("Skeleton"),r("Loading",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}]})],1)},a=[],c=r("1da1"),s=(r("96cf"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"header-container"},[r("div",{staticClass:"wrapper"},[r("van-icon",{attrs:{name:"search"}}),r("span",[t._v("输入商品名称")])],1)])}),o=[],l=r("ade3"),u=(r("c3a6"),r("ad06")),d=(r("b0c0"),{components:Object(l["a"])({},u["a"].name,u["a"])}),h=d,f=(r("3187"),r("2877")),p=Object(f["a"])(h,s,o,!1,null,"7c7e8e85",null),m=p.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-container"},[n("div",{ref:"TitleWrapper",staticClass:"subTitile-wrapper"},[n("ul",{ref:"ulWrapper",staticClass:"title-wrapper-ul"},t._l(t.rightContent,(function(e,r){return n("li",{key:r,ref:"subTitle",refInFor:!0,staticClass:"title-item",class:{selected:t.currentIndex===r},on:{click:function(e){return t.hSelectTitle(r)}}},[t._v(" "+t._s(e.name)+" ")])})),0)]),n("section",{ref:"SectionWrapper",staticClass:"section-wrapper"},[n("div",{staticClass:"content-wrapper"},t._l(t.rightContent,(function(e,i){return n("div",{key:i,ref:"DivWrapper",refInFor:!0},[n("div",{staticClass:"category-title"},[t._v(t._s(e.name))]),n("ul",t._l(e.products,(function(e,i){return n("li",{key:i,staticClass:"product-item",on:{click:function(r){return t.$router.push("/GoodsDetail?id="+e.id+"&name="+e.name+"&spec="+e.spec+"&small_image="+e.small_image+"&total_sales="+e.total_sales+"&price="+e.price+"&origin_price="+e.origin_price)}}},[n("div",{staticClass:"product-image"},[n("van-image",{staticClass:"product-image",attrs:{src:e.small_image,"lazy-load":""},scopedSlots:t._u([{key:"loading",fn:function(){return[n("img",{attrs:{width:"70",height:"70",src:r("c44a"),alt:""}})]},proxy:!0}],null,!0)})],1),n("div",{staticClass:"info"},[n("div",{staticClass:"name"},[t._v(" "+t._s(e.name)+" ")]),n("div",{staticClass:"spec"},[t._v(t._s(e.spec))]),n("div",{staticClass:"price"},[n("span",{staticClass:"cur-price"},[t._v("￥"+t._s(e.price))]),n("span",{staticClass:"ori-price"},[t._v("￥"+t._s(e.origin_price))])]),n("van-icon",{staticClass:"cart-icon",attrs:{name:"cart-o"},on:{click:function(r){return r.stopPropagation(),t.hAddToCart(r,e)}}})],1)])})),0)])})),0),t._l(t.balls,(function(e,r){return n("transition",{key:r,attrs:{appear:""},on:{"before-appear":t.beforeEnter,"after-appear":t.afterEnter}},[e?n("div",{staticClass:"ball"},[n("img",{attrs:{src:t.curImage,alt:""}})]):t._e()])}))],2)])},b=[],v=r("2909"),y=r("5530"),C=(r("4056"),r("44bf")),x=(r("99af"),r("d81d"),r("f40f")),w=r("2f62"),_={components:(n={},Object(l["a"])(n,u["a"].name,u["a"]),Object(l["a"])(n,C["a"].name,C["a"]),n),props:{rightContent:{type:Array}},computed:Object(y["a"])({},Object(w["b"])(["token"])),data:function(){return{curProduct:{},curImage:"",elLeft:"",elTop:"",balls:[],currentIndex:0}},mounted:function(){var t=this;this.$nextTick((function(){t.initProductScroll()}))},methods:Object(y["a"])(Object(y["a"])({},Object(w["c"])(["addToCart"])),{},{beforeEnter:function(t){t.style.transform="translate(".concat(this.elLeft-20,"px, ").concat(this.elTop,"px)")},afterEnter:function(t){var e=this;t.style.transform="translate(7.013rem, 16.373rem)",t.style.transition=".8s all cubic-bezier(.44,-0.48,.93,.67)",this.balls=this.balls.map((function(t){return!1})),t.addEventListener("transitionend",(function(){t.style.display="none",e.doAdd()})),t.addEventListener("animationend",(function(){t.style.display="none",e.doAdd()}))},doAdd:function(){document.getElementById("cartTab").classList.add("shake"),setTimeout((function(){document.getElementById("cartTab").classList.remove("shake")}),500),this.addToCart(this.curProduct)},hAddToCart:function(t,e){this.token?(this.curImage=e.small_image,this.elLeft=t.target.getBoundingClientRect().left,this.elTop=t.target.getBoundingClientRect().top,this.balls=[].concat(Object(v["a"])(this.balls),[!0])):this.$router.push("/login"),this.curProduct={id:e.id,name:e.name,price:e.price,count:1,small_image:e.small_image,checked:!0}},hSelectTitle:function(t){this.currentIndex=t,this.titleScroll.scrollToElement(this.$refs.subTitle[t],200),this.productScroll.scrollToElement(document.querySelectorAll(".category-title")[t],100)},initTitleScroll:function(){for(var t=this.$refs.subTitle,e=0,r=0;r<t.length;r++)e+=t[r].offsetWidth;this.$refs.ulWrapper.style.width=e+"px",this.titleScroll?this.titleScroll.refresh():this.titleScroll=new x["a"](this.$refs.TitleWrapper,{scrollX:!0,click:!0,disableTouch:!1})},initProductScroll:function(){this.productScroll||(this.productScroll=new x["a"](this.$refs.SectionWrapper,{scrollY:!0,click:!0,disableTouch:!1}))}}),watch:{currentIndex:function(t,e){this.titleScroll.scrollToElement(this.$refs.subTitle[t],0)},rightContent:function(t,e){var r=this;this.currentIndex=0,this.$nextTick((function(){if(r.initTitleScroll(),r.productScroll){r.productScroll.refresh();var t=document.querySelectorAll(".category-title")[0];r.productScroll.scrollToElement(t,0)}}))}}},T=_,k=(r("5f05"),Object(f["a"])(T,g,b,!1,null,"0f7b2f09",null)),S=k.exports,j=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("content-loader",{attrs:{width:414,height:836,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"}},[r("rect",{attrs:{x:"8",y:"5",width:"110",height:"836"}}),r("rect",{attrs:{x:"140",y:"5",rx:"0",ry:"0",width:"260",height:"95"}}),r("rect",{attrs:{x:"140",y:"115",rx:"0",ry:"0",width:"260",height:"95"}}),r("rect",{attrs:{x:"140",y:"225",rx:"0",ry:"0",width:"260",height:"95"}}),r("rect",{attrs:{x:"140",y:"335",rx:"0",ry:"0",width:"260",height:"95"}}),r("rect",{attrs:{x:"140",y:"445",rx:"0",ry:"0",width:"260",height:"95"}}),r("rect",{attrs:{x:"140",y:"555",rx:"0",ry:"0",width:"260",height:"95"}}),r("rect",{attrs:{x:"140",y:"665",rx:"0",ry:"0",width:"260",height:"95"}}),r("rect",{attrs:{x:"140",y:"775",rx:"0",ry:"0",width:"260",height:"95"}})])},E=[],L=r("e330"),O={components:{ContentLoader:L["a"]}},$=O,I=Object(f["a"])($,j,E,!1,null,null,null),A=I.exports,W=r("781b"),P=r("b775"),R=function(){return Object(P["a"])({url:"homeApi/categories"})},q=function(t){return Object(P["a"])({url:"homeApi/categoriesdetail/"+t})},B={components:{Loading:W["a"],Skeleton:A,ContentView:S,Header:m},data:function(){return{isLoading:!1,rightContent:[],currentIndex:0,category:[]}},mounted:function(){var t=this;this.initData().then((function(e){var r=document.querySelector(".cate-wrapper ul"),n=document.querySelectorAll(".cate-wrapper li");r.style.height=n[0].offsetHeight*n.length+"px",t.$nextTick((function(){t.leftScroll||(t.leftScroll=new x["a"](t.$refs.leftWrapper,{scrollY:!0,click:!0,disableTouch:!1}))}))}))},methods:{hSelectCate:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.currentIndex=t,setTimeout((function(){var r=e.$refs.MenuList,n=r[t];e.leftScroll.scrollToElement(n,300)}),600),n=t>=9?"lk0".concat(t+1):"lk00".concat(t+1),e.isLoading=!0,r.next=6,q(n);case 6:i=r.sent,e.rightContent=i.data.cate,e.isLoading=!1;case 9:case"end":return r.stop()}}),r)})))()},initData:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:return r=e.sent,t.category=r.data.cate,e.next=6,q("lk001");case 6:n=e.sent,t.rightContent=n.data.cate;case 8:case"end":return e.stop()}}),e)})))()}}},D=B,F=(r("b418"),Object(f["a"])(D,i,a,!1,null,"1b36cb8a",null));e["default"]=F.exports},b418:function(t,e,r){"use strict";r("a084")}}]);
//# sourceMappingURL=chunk-6ab33c2d.3a4ad91f.js.map